[Unit]
Description=PostgreSQL Database

[Container]
Image=docker.io/postgres:17-alpine
ContainerName=postgresql

AutoUpdate=registry
Environment=POSTGRES_PASSWORD_FILE=/run/secrets/POSTGRESQL_ADMIN_PASSWORD
Network=database.network
Secret=POSTGRESQL_ADMIN_PASSWORD
User=postgres
Volume=./postgresql/init:/docker-entrypoint-initdb.d:ro,Z
Volume=postgresql-data.volume:/var/lib/postgresql/data:Z

[Service]
Restart=on-failure

[Install]
WantedBy=default.target
